@tailwind base;
@tailwind components;
@tailwind utilities;

/* =====================================================
   DESIGN TOKENS — Semantic, theme-aware, scalable
   ===================================================== */
@layer base {
  :root {
    /* Layout */
    --reading-width: 65ch;

    /* Core surfaces (RGB components) */
    --bg: 12 14 20;
    --surface: 22 24 30;
    --surface-solid: 18 20 26;

    /* Text */
    --foreground: 245 247 250;
    --muted: 148 163 184;

    /* Accents */
    --accent: 96 165 250;
    --accent-2: 124 58 237;

    /* Effects */
    --glass-alpha: 0.10;
    --border-alpha: 0.08;
    --focus-alpha: 0.14;

    /* Ambient gradients */
    --gradient-1: 20 25 40;
    --gradient-2: 34 35 52;
    --gradient-3: 12 14 20;
  }

  /* Light theme */
  :root.light {
    --bg: 245 247 250;
    --surface: 255 255 255;
    --surface-solid: 250 250 252;

    --foreground: 20 23 30;
    --muted: 100 116 139;

    --accent: 14 165 233;
    --accent-2: 99 102 241;

    --glass-alpha: 0.06;
    --border-alpha: 0.06;
  }

  html,
  body {
    height: 100%;
  }

  body {
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI",
      Roboto, "Helvetica Neue", Arial;
    line-height: 1.65;
    color: rgb(var(--foreground));
    background-color: rgb(var(--bg));
    margin: 0;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }

  /* =====================================================
     AMBIENT BACKGROUND — Decorative only
     ===================================================== */
  body::before {
    content: "";
    position: fixed;
    inset: 0;
    z-index: -1;
    pointer-events: none;
    background-image:
      radial-gradient(
        1200px 700px at 10% 10%,
        rgba(var(--accent), 0.10),
        transparent 15%
      ),
      radial-gradient(
        900px 600px at 90% 85%,
        rgba(var(--accent-2), 0.08),
        transparent 15%
      ),
      linear-gradient(
        180deg,
        rgba(var(--gradient-1), 0.32),
        rgba(var(--gradient-2), 0.22) 50%,
        rgba(var(--gradient-3), 0.30)
      );
    animation: ambientShift 16s ease-in-out infinite;
  }

  @media (prefers-reduced-motion: reduce) {
    body::before {
      animation: none;
    }
  }

  /* Typography */
  h1,
  h2,
  h3,
  h4 {
    letter-spacing: -0.02em;
    color: inherit;
  }

  p {
    color: rgb(var(--muted));
    margin-bottom: 1rem;
  }

  .reading {
    max-width: var(--reading-width);
  }
}

/* =====================================================
   COMPONENTS — Intentional, safe UI primitives
   ===================================================== */
@layer components {
  /* ---------- SOLID SURFACE (Headers, Nav, Footer) ---------- */
  .surface {
    background-color: rgb(var(--surface-solid));
    border: 1px solid rgba(var(--foreground), var(--border-alpha));
    border-radius: 14px;
    box-shadow: 0 10px 30px rgba(2, 6, 23, 0.25);
  }

  /* ---------- GLASS (Decorative cards, heroes only) ---------- */
  .glass {
    background: linear-gradient(
      180deg,
      rgba(var(--surface), 0.92),
      rgba(var(--surface), 0.78)
    );
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(var(--foreground), var(--border-alpha));
    border-radius: 14px;
  }

  /* Navigation pills */
  .nav-pill {
    padding: 0.35rem 0.75rem;
    border-radius: 10px;
    transition: background 160ms ease, transform 160ms ease;
  }

  .nav-pill:hover {
    background: rgba(var(--foreground), 0.08);
    transform: translateY(-1px);
  }

  /* Brand text */
  .header-brand {
    font-weight: 700;
  }

  /* Theme toggle container */
  .theme-toggle-wrap {
    padding: 0.25rem;
    border-radius: 8px;
    background: rgba(var(--foreground), 0.06);
    transition: background 160ms ease, transform 160ms ease;
  }

  .theme-toggle-wrap:hover {
    transform: translateY(-1px);
  }

  /* Cards */
  .card {
    background: linear-gradient(
      180deg,
      rgba(var(--surface), 0.90),
      rgba(var(--surface), 0.82)
    );
    border-radius: 12px;
    padding: 1.25rem;
    border: 1px solid rgba(var(--foreground), var(--border-alpha));
  }

  /* Buttons */
  .btn {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.65rem 1rem;
    border-radius: 10px;
    font-weight: 600;
    transition: transform 160ms ease, box-shadow 160ms ease;
  }

  .btn-primary {
    background: linear-gradient(
      90deg,
      rgba(var(--accent), 1),
      rgba(var(--accent-2), 0.95)
    );
    color: white;
    box-shadow: 0 8px 22px rgba(var(--accent), 0.18);
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 14px 36px rgba(var(--accent), 0.22);
  }

  .btn-ghost {
    background: transparent;
    color: rgb(var(--foreground));
    border: 1px solid rgba(var(--foreground), var(--border-alpha));
  }

  /* Gradient headings (use sparingly) */
  .heading-gradient {
    background: linear-gradient(
      90deg,
      rgba(var(--accent), 1),
      rgba(var(--accent-2), 1)
    );
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    background-size: 200% 200%;
    animation: gradientText 5s ease infinite;
  }
}

/* =====================================================
   UTILITIES — Focus, motion, helpers
   ===================================================== */
@layer utilities {
  @keyframes ambientShift {
    0% { transform: translate3d(0, 0, 0) scale(1); }
    50% { transform: translate3d(3%, 2%, 0) scale(1.04); }
    100% { transform: translate3d(0, 0, 0) scale(1); }
  }

  @keyframes gradientText {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .focus-ring:focus-visible {
    outline: none;
    box-shadow: 0 0 0 4px rgba(var(--accent), var(--focus-alpha));
    border-radius: 8px;
  }

  .muted {
    color: rgb(var(--muted));
  }

  .subtle {
    opacity: 0.85;
  }
}
